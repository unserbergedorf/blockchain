<div class="transaction-detail" style="max-width:800px;margin:0 auto;padding:20px;">
  <!-- Header -->
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;">
    <div>
      <h1 style="margin:0;color:#2c3e50;">ğŸ“„ Transaktions-Details</h1>
      <p style="margin:5px 0 0 0;color:#6c757d;font-size:0.9rem;">
        ID: #{{ transaction.id }} â€¢ {{ transaction.created|date('d.m.Y H:i:s') }}
      </p>
    </div>
    <div>
      <a href="/admin/regiotoken" 
         style="padding:10px 20px;background:#6c757d;color:white;border-radius:6px;text-decoration:none;font-weight:bold;">
         â† ZurÃ¼ck zum Dashboard
      </a>
    </div>
  </div>
  
  <!-- Status Card -->
  <div style="background:white;border-radius:10px;padding:25px;box-shadow:0 4px 12px rgba(0,0,0,0.08);margin-bottom:30px;
    border-left:6px solid {% if transaction.status == 'confirmed' %}#28a745{% elseif transaction.status == 'pending' %}#ffc107{% else %}#dc3545{% endif %};">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div>
        <div style="font-size:1.1rem;color:#495057;margin-bottom:5px;">Status</div>
        <div style="font-size:1.8rem;font-weight:bold;color:{% if transaction.status == 'confirmed' %}#28a745{% elseif transaction.status == 'pending' %}#ffc107{% else %}#dc3545{% endif %};">
          {{ transaction.status|upper }}
        </div>
      </div>
      <div style="display:flex;gap:10px;">
        {% if transaction.status == 'pending' %}
        <button onclick="updateTransactionStatus({{ transaction.id }}, 'confirmed')"
          style="padding:10px 20px;background:#28a745;color:white;border:none;border-radius:6px;font-weight:bold;cursor:pointer;">
          âœ… Als bestÃ¤tigt markieren
        </button>
        {% endif %}
        <button onclick="updateTransactionStatus({{ transaction.id }}, 'failed')"
          style="padding:10px 20px;background:#dc3545;color:white;border:none;border-radius:6px;font-weight:bold;cursor:pointer;">
          âŒ Als fehlgeschlagen markieren
        </button>
      </div>
    </div>
  </div>
  
  <!-- Transaction Info Grid -->
  <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(350px, 1fr));gap:20px;margin-bottom:30px;">
    
    <!-- User Info -->
    <div style="background:white;border-radius:10px;padding:25px;box-shadow:0 4px 12px rgba(0,0,0,0.08);">
      <h3 style="margin-top:0;color:#495057;margin-bottom:20px;">ğŸ‘¤ Benutzer-Information</h3>
      <div style="display:flex;align-items:center;margin-bottom:20px;">
        <div style="background:#e7f1ff;padding:15px;border-radius:10px;margin-right:15px;">
          <span style="font-size:24px;">ğŸ‘¤</span>
        </div>
        <div>
          <div style="font-size:1.3rem;font-weight:bold;color:#2c3e50;">{{ transaction.username }}</div>
          <div style="color:#6c757d;">ID: {{ transaction.user_id }}</div>
          <div style="color:#6c757d;font-size:0.9rem;">{{ transaction.user_email }}</div>
        </div>
      </div>
      <a href="/user/{{ transaction.user_id }}"
        style="display:inline-block;padding:8px 16px;background:#007bff;color:white;border-radius:6px;text-decoration:none;font-size:0.9rem;">
        ğŸ‘ï¸ User-Profil anzeigen
      </a>
    </div>
    
    <!-- Transaction Details -->
    <div style="background:white;border-radius:10px;padding:25px;box-shadow:0 4px 12px rgba(0,0,0,0.08);">
      <h3 style="margin-top:0;color:#495057;margin-bottom:20px;">ğŸ’¸ Transaktions-Details</h3>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;">
        <div>
          <div style="font-size:0.9rem;color:#6c757d;margin-bottom:5px;">Betrag</div>
          <div style="font-size:1.8rem;font-weight:bold;color:{% if transaction.from_address matches '/^0xREGIO/' %}#28a745{% else %}#dc3545{% endif %};">
            {% if transaction.from_address matches '/^0xREGIO/' %}+{% else %}-{% endif %}{{ transaction.amount|number_format(2, ',', '.') }} {{ transaction.token_symbol }}
          </div>
        </div>
        <div>
          <div style="font-size:0.9rem;color:#6c757d;margin-bottom:5px;">Datum</div>
          <div style="font-size:1.1rem;font-weight:bold;color:#495057;">
            {{ transaction.created|date('d.m.Y') }}
          </div>
          <div style="color:#6c757d;font-size:0.9rem;">
            {{ transaction.created|date('H:i:s') }}
          </div>
        </div>
      </div>
      {% if transaction.memo %}
      <div style="margin-top:20px;padding:15px;background:#f8f9fa;border-radius:6px;">
        <div style="font-size:0.9rem;color:#6c757d;margin-bottom:5px;">Nachricht</div>
        <div style="font-style:italic;color:#495057;">"{{ transaction.memo }}"</div>
      </div>
      {% endif %}
    </div>
    
  </div>
  
  <!-- Addresses Card -->
  <div style="background:white;border-radius:10px;padding:25px;box-shadow:0 4px 12px rgba(0,0,0,0.08);margin-bottom:30px;">
    <h3 style="margin-top:0;color:#495057;margin-bottom:20px;">ğŸ”— Adressen</h3>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:30px;">
      
      <!-- From Address -->
      <div>
        <div style="font-size:0.9rem;color:#6c757d;margin-bottom:10px;">Von (Sender)</div>
        <div style="background:#f8f9fa;padding:15px;border-radius:8px;border-left:4px solid #dc3545;">
          <div style="font-family:monospace;font-size:1rem;color:#495057;word-break:break-all;margin-bottom:10px;">
            {{ transaction.from_address }}
          </div>
          <button onclick="copyToClipboard('{{ transaction.from_address }}')"
            style="padding:6px 12px;background:#e9ecef;border:none;border-radius:4px;font-size:0.85rem;color:#6c757d;cursor:pointer;">
            ğŸ“‹ Kopieren
          </button>
        </div>
      </div>
      
      <!-- To Address -->
      <div>
        <div style="font-size:0.9rem;color:#6c757d;margin-bottom:10px;">An (EmpfÃ¤nger)</div>
        <div style="background:#f8f9fa;padding:15px;border-radius:8px;border-left:4px solid #28a745;">
          <div style="font-family:monospace;font-size:1rem;color:#495057;word-break:break-all;margin-bottom:10px;">
            {{ transaction.to_address }}
          </div>
          <button onclick="copyToClipboard('{{ transaction.to_address }}')"
            style="padding:6px 12px;background:#e9ecef;border:none;border-radius:4px;font-size:0.85rem;color:#6c757d;cursor:pointer;">
            ğŸ“‹ Kopieren
          </button>
        </div>
      </div>
      
    </div>
    
    <!-- Transaction Hash -->
    <div style="margin-top:25px;">
      <div style="font-size:0.9rem;color:#6c757d;margin-bottom:10px;">Transaktions-Hash</div>
      <div style="background:#f8f9fa;padding:15px;border-radius:8px;">
        <div style="font-family:monospace;font-size:1rem;color:#495057;word-break:break-all;margin-bottom:10px;">
          {{ transaction.tx_hash }}
        </div>
        <div style="display:flex;gap:10px;">
          <button onclick="copyToClipboard('{{ transaction.tx_hash }}')"
            style="padding:8px 16px;background:#e9ecef;border:none;border-radius:4px;font-size:0.9rem;color:#6c757d;cursor:pointer;">
            ğŸ“‹ Hash kopieren
          </button>
          {% if transaction.block_number %}
          <a href="https://gnosis.blockscout.com/tx/{{ transaction.tx_hash }}" target="_blank"
            style="padding:8px 16px;background:#007bff;color:white;border-radius:4px;text-decoration:none;font-size:0.9rem;">
            ğŸ”— Im Explorer anzeigen
          </a>
          {% endif %}
        </div>
      </div>
    </div>
    
  </div>
  
  <!-- Timestamps -->
  <div style="background:white;border-radius:10px;padding:25px;box-shadow:0 4px 12px rgba(0,0,0,0.08);">
    <h3 style="margin-top:0;color:#495057;margin-bottom:20px;">ğŸ•’ Zeitstempel</h3>
    <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:20px;">
      
      <div>
        <div style="font-size:0.9rem;color:#6c757d;margin-bottom:5px;">Erstellt</div>
        <div style="font-size:1.1rem;font-weight:bold;color:#495057;">
          {{ transaction.created|date('d.m.Y H:i:s') }}
        </div>
      </div>
      
      {% if transaction.confirmed %}
      <div>
        <div style="font-size:0.9rem;color:#6c757d;margin-bottom:5px;">BestÃ¤tigt</div>
        <div style="font-size:1.1rem;font-weight:bold;color:#28a745;">
          {{ transaction.confirmed|date('d.m.Y H:i:s') }}
        </div>
        <div style="color:#6c757d;font-size:0.9rem;">
          {{ ((transaction.confirmed - transaction.created) / 60)|round(1) }} Minuten spÃ¤ter
        </div>
      </div>
      {% endif %}
      
      {% if transaction.block_number %}
      <div>
        <div style="font-size:0.9rem;color:#6c757d;margin-bottom:5px;">Block-Nummer</div>
        <div style="font-size:1.1rem;font-weight:bold;color:#495057;">
          #{{ transaction.block_number|number_format(0, ',', '.') }}
        </div>
      </div>
      {% endif %}
      
    </div>
  </div>
  
</div>